# üåê –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

**–ë–∞–∑–æ–≤—ã–π URL**: `http://localhost:8000`

---

## üì∏ Analyze Artifact (–ê–Ω–∞–ª–∏–∑ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç–∞)

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏, –≤–∫–ª—é—á–∞—è –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤, –æ—Ü–µ–Ω–∫—É –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –ò–ò –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏–∏.

- **Endpoint**: `POST /api/analyze`
- **Content-Type**: `multipart/form-data`

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ó–∞–ø—Ä–æ—Å–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä       | –¢–∏–ø      | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                    |
| :------------- | :------- | :---------- | :----------- | :-------------------------------------------------------------------------- |
| `file`         | File     | **–î–∞**      | -            | –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (JPEG, PNG).                         |
| `use_emulator` | String   | –ù–µ—Ç         | "on"         | –ï—Å–ª–∏ "on", –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤. –ò–Ω–∞—á–µ —á–∏—Ç–∞—é—Ç—Å—è —Å Arduino.|
| `lang`         | String   | –ù–µ—Ç         | "ru"         | –Ø–∑—ã–∫ –¥–ª—è –æ—Ç—á–µ—Ç–∞ –ò–ò ("ru" –∏–ª–∏ "en").                                         |

### –ü—Ä–∏–º–µ—Ä –û—Ç–≤–µ—Ç–∞ (JSON)

```json
{
  "sensors": {
    "temperature": 24.5,
    "humidity": 45.0,
    "light": 300,
    "environment_status": "WARNING",
    "source": "emulator"
  },
  "vision": {
    "image_class_raw": "crack",
    "image_class": "–¢—Ä–µ—â–∏–Ω–∞",
    "confidence": 0.92,
    "probabilities": {
      "normal": 0.05,
      "crack": 0.92,
      "corrosion": 0.03
    }
  },
  "decision": {
    "risk_level": "HIGH",
    "recommendation": "–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π."
  },
  "ai_report": "–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ—â–∏–Ω—ã, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å..."
}
```

### –ö–æ–¥—ã –û—à–∏–±–æ–∫

- **422 Validation Error**: –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
- **500 Internal Server Error**: –ü—Ä–æ–±–ª–µ–º—ã —Å API OpenAI –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥–µ–ª–∏ TensorFlow.
